@import url('https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Vina+Sans&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@700&display=swap')

$material-base: rgb(221, 213, 226)
$material-inset: #cfcece
$material-emphasis: #adcdfc

$text-white: #f6f6f6
$text-base: #171717
$text-hover: #2c2c2c
$text-down: #3d3d3d
$font-sans: 'Assistant', Arial, Helvetica, sans-serif
$font-block: 'Vina Sans', Arial, Helvetica, sans-serif
$font-mono: 'Anonymous Pro', Courier, monospace
$color-red-1: #ff4c4c
$color-green-1: #5fc95f
$color-indigo-0: rgb(196, 167, 214)
$color-indigo-1: rgb(130, 81, 161)
$color-indigo-2: rgb(70, 40, 90)
$color-indigo-3: #1b0e22

$s-0-25: 2px
$s-0-5: 4px
$s-1: 8px
$s-1-5: 12px
$s-2: 16px
$s-2-5: 20px
$s-3: 24px
$s-4: 32px
$s-5: 40px
$s-6: 48px
$s-7: 56px
$s-8: 64px
$s-9: 72px
$s-10: 80px

:root
    --color-red-1: #{$color-red-1}
    --color-green-1: #{$color-green-1}
    --color-indigo-0: #{$color-indigo-0}
    --color-indigo-1: #{$color-indigo-1}
    --color-indigo-2: #{$color-indigo-2}
    --color-indigo-3: #{$color-indigo-3}
    --material-base: #{$material-base}
    --material-inset: #{$material-inset}
    --text-base: #{$text-base}

%center-shell
    display: grid
    color: $text-white
    justify-items: center
    text-align: center
    margin: auto
    padding: $s-1
    max-width: 640px
    width: 100%
    font-family: $font-block
    gap: $s-0-5

@mixin stack($gap: 0, $align: stretch)
    display: flex
    flex-direction: column
    gap: $gap
    align-items: $align

@mixin surface($bg: $color-indigo-3, $radius: $s-1, $padding: $s-1-5)
    background-color: $bg
    border-radius: $radius
    padding: $padding

html
    background-color: $color-indigo-3
    &.transitions-enabled
        transition: background-color 2s ease

#root
    display: flex
    height: 100vh
    overflow: auto

body
    overflow: hidden

.flex
    display: flex

.gap-1
    gap: $s-1
.gap-2
    gap: $s-2
.gap-3
    gap: $s-3
.gap-4
    gap: $s-4

.flex-col
    flex-direction: column

fieldset
    border: none
    padding: 0px
    margin: 0px

.center-wrapper
    @extend %center-shell

.mind-meld-wrapper
    @extend %center-shell
    margin: 0
    padding: 0
    width: 100vw
    height: 100vh
    max-width: none
    max-height: none
    @media (max-width: 800px)
        align-content: flex-start

.wedding-wrapper
    @extend %center-shell
    max-width: 520px
    font-family: $font-sans
    font-weight: 500
    padding-bottom: $s-6
    color: var(--wedding-flower, $text-white)
    
    .wedding-header
        margin-bottom: $s-4
        padding: $s-3 0
        color: inherit
        
        .names
            font-family: $font-block
            font-size: 4rem
            font-weight: 500
            margin-bottom: $s-1-5
            letter-spacing: 1px
        
        .event-details
            display: flex
            align-items: center
            justify-content: center
            gap: $s-1-5
            font-size: 1.3rem
            margin-bottom: $s-1
            opacity: 0.95
            
            .separator
                opacity: 0.5
        
        .venue
            display: inline-block
            color: var(--wedding-flower, rgba(255, 255, 255, 0.85))
            text-decoration: none
            font-size: 1rem
            font-style: italic
            transition: all 200ms ease
            border-bottom: 1px dotted currentColor
            padding-bottom: 2px
            
            &:hover
                border-bottom: 1px solid currentColor

    .intro-stage
        @include stack($s-3, center)
        width: 100%
    
    .cta-row
        display: flex
        gap: $s-2
        flex-wrap: wrap
        justify-content: center

    .cta-button
        padding: $s-2 $s-4
        border-radius: $s-9
        border: 2px solid var(--wedding-flower, rgba(255, 255, 255, 0.25))
        background: rgba(255, 255, 255, 0.08)
        color: inherit
        font-family: $font-sans
        font-size: 1.05rem
        cursor: pointer
        transition: all 150ms ease
        backdrop-filter: blur(8px)
        &:hover
            transform: translateY(-2px)
            background: rgba(255, 255, 255, 0.4)
        &:active
            transform: translateY(0)
        &.secondary
            background: transparent
            border-style: dashed

    .flower-hero, .flower-small
        background-color: var(--wedding-flower, rgba(255,255,255,0.65))
        mask: url('./wedding_flower.svg') center / contain no-repeat
        -webkit-mask: url('./wedding_flower.svg') center / contain no-repeat
        width: 100%
        max-width: 520px
        aspect-ratio: 673 / 850

    .flower-hero
        filter: drop-shadow(0 12px 40px rgba(0,0,0,0.35))

    .flower-small
        margin: $s-2 0
        max-width: 220px

    .text-input-form, .edit-form
        @include stack($s-1-5)
        width: 100%
        label
            font-size: 1.1rem
            margin-bottom: $s-0-5
        
        .text-input
            padding: $s-2
            resize: none
            font-family: $font-sans
            font-size: 1rem
            background: rgba(255, 255, 255, 0.1)
            border: 1px solid rgba(0, 0, 0, 0.5)
            border-radius: $s-0-5
            color: var(--wedding-flower, $text-white)
            transition: all 150ms ease
            
            &::placeholder
                white-space: break-spaces
                color: var(--wedding-flower, rgba(255, 255, 255, 0.5))
                filter: saturate(0.5)
            
            &:focus
                outline: none
                border: 1px solid var(--wedding-flower, rgba(255, 255, 255, 0.6))
                background: rgba(255, 255, 255, 0.15)
    
    .review-container
        @include stack($s-3, center)
        width: 100%
        
        .review-prompt
            font-size: 1.3rem
            margin-top: 0px
            margin-bottom: $s-1
            font-weight: 500
        
        .button-group
            display: flex
            gap: $s-2
            width: 100%
            justify-content: center
            flex-wrap: wrap
        
    .confirm-button, .edit-button
        padding: $s-2 $s-4
        font-family: $font-sans
        font-size: 1.1rem
        border-radius: $s-9
        cursor: pointer
        transition: all 150ms ease
        border: 2px solid var(--wedding-flower, rgba(255, 255, 255, 0.4))
        
    .confirm-button
        background: var(--wedding-flower, rgba(55, 216, 117, 0.4))
        color: var(--wedding-foreground, white)
        font-weight: 600
        &:hover
            opacity: 0.8
            transform: translateY(-2px)
        &:active
            transform: translateY(0)
            opacity: 0.6
    
    .edit-button
        background: transparent
        color: var(--wedding-flower)
        &:hover
            background: rgba(255, 255, 255, 0.1)
            transform: translateY(-2px)
        &:active
            transform: translateY(0)
    
    .generating-message
        display: flex
        flex-direction: column
        align-items: center
        gap: $s-2
        padding: $s-4
        p
            font-size: 1.2rem
            opacity: 0.9
    
    .spinner
        width: 40px
        height: 40px
        border: 4px solid rgba(255, 255, 255, 0.3)
        border-top-color: white
        border-radius: 50%
        animation: spin 1s linear infinite
    
    .success-container
        @include stack($s-3, center)
        width: 100%
    
    .ai-message
        font-size: 1.2rem
        line-height: 1.5
        font-weight: 400
        padding: $s-3
        background: rgba(255, 255, 255, 0.1)
        border-radius: $s-0-5
        backdrop-filter: blur(10px)
        text-align: left
        width: 100%
    
    .details-card
        @include surface(rgba(255, 255, 255, 0.05), $s-0-5, $s-3)
        width: 100%
        backdrop-filter: blur(10px)
        h3
            margin: 0 0 $s-2 0
            font-size: 1.2rem
        
        .details-list
            list-style: none
            padding: 0
            margin: 0
            @include stack($s-1-5)
            li
                display: flex
                justify-content: space-between
                padding: $s-1-5
                background: rgba(0, 0, 0, 0.05)
                border-radius: $s-0-5
                .label
                    font-weight: 600
                    opacity: 0.8
                .value
                    font-weight: 400
    
    .reset-button
        padding: $s-1-5 $s-3
        background: rgba(255, 255, 255, 0.2)
        border: 2px solid rgba(255, 255, 255, 0.4)
        color: white
        font-family: $font-sans
        font-size: 1rem
        border-radius: $s-0-5
        cursor: pointer
        transition: all 150ms ease
        backdrop-filter: blur(10px)
        &:hover
            background: rgba(255, 255, 255, 0.3)
            transform: translateY(-2px)
        &:active
            transform: translateY(0)

    .gift-description
        font-size: 1.1rem
        text-align: center
        margin-bottom: $s-3
        opacity: 0.95

    .gift-buttons
        display: grid
        grid-template-columns: repeat(2, 1fr)
        gap: $s-2
        width: 100%
    .gift-button
        padding: $s-2-5 $s-3
        font-family: $font-sans
        font-size: 1.1rem
        font-weight: 600
        border-radius: $s-9
        cursor: pointer
        transition: all 150ms ease
        border: 2px solid var(--wedding-flower, rgba(255, 255, 255, 0.4))
        background: var(--wedding-flower, rgba(255, 255, 255, 0.1))
        color: var(--wedding-foreground, white)
        &:hover
            opacity: 0.8
            transform: translateY(-2px)
        &:active
            opacity: 0.6
            transform: translateY(0)

    .gift-button--other
        border: 2px solid var(--wedding-flower, rgba(255, 255, 255, 0.4))
        color: var(--wedding-flower, rgba(255, 255, 255, 0.9))
        background: transparent
        &:hover
            opacity: 1.0
            background: rgba(255, 255, 255, 0.1)
            transform: translateY(-2px)
        &:active
            opacity: 1.0
            transform: translateY(0)

    .thank-you-message
        font-size: 1.5rem
        text-align: center
        margin-bottom: $s-3
        font-weight: 600

@keyframes spin
    to
        transform: rotate(360deg)

@keyframes fadeIn
    from
        opacity: 0
    to
        opacity: 1

@keyframes slideUp
    from
        opacity: 0
        transform: translateY(20px)
    to
        opacity: 1
        transform: translateY(0)

.fade-in
    animation: fadeIn 0.5s ease-in

.fade-in-delay
    animation: fadeIn 0.5s ease-in 0.3s both

.slide-up
    animation: slideUp 0.6s ease-out 0.2s both

.resume-wrapper
    @extend %center-shell
    max-width: 800px
    width: 100%
    padding: $s-4
    gap: $s-4
    font-family: $font-sans
    color: $text-base
    font-weight: 500

.feed-wrapper
    @include stack($s-1)
    align-items: stretch
    width: 100%
    padding-bottom: $s-6

.button-wrapper
    display: flex
    justify-content: center
    width: 100%
    margin-top: $s-3
    gap: $s-1

.name
    font-size: 3rem
    color: $text-white

.guy
    width: 200px
    margin-top: $s-3
    margin-bottom: $s-2

.main-button
    background-color: $color-indigo-1
    border-radius: $s-0-5
    border: none
    font-family: $font-block
    font-weight: 400
    letter-spacing: 0.25px
    font-size: 1.5rem
    padding: $s-1-5 $s-2-5
    color: $color-indigo-3
    cursor: pointer
    transition: all 150ms ease
    position: relative
    &:hover
        background-color: $color-indigo-0
    &:active
        background-color: $color-indigo-2
    &:focus-visible
        outline: 2px solid $color-indigo-3
    &:disabled
        background-color: $color-indigo-0
        color: $text-hover
        opacity: 0.5
        cursor: default
    &.small
        font-size: 1rem
        font-family: $font-sans
        font-weight: 700
        letter-spacing: unset
        padding: $s-0-5 $s-1

a.main-button
    text-decoration: none
    display: inline-flex
    align-items: center
    justify-content: center

    .pulse
        position: absolute
        top: 0
        left: 0
        z-index: -99
        border-radius: $s-0-5
        background-color: #ffffff30
        animation: pulse 4s infinite
        width: 100%
        height: 100%

.subheader
    font-size: 1.3rem
    font-family: $font-sans
    color: $text-white

.content-block
    @include stack($s-1, flex-start)
    margin-top: $s-1
    font-family: $font-sans
    color: $text-base
    font-weight: 500
    @include surface($material-base, $s-1, $s-2)
    .generated-text
        line-height: 150%
        text-align: left
        font-size: 1rem
        font-family: $font-sans
    .loading-text
        animation: loading 2s infinite ease-in-out
        @keyframes loading
            0%
                opacity: 1
            50%
                opacity: 0.5
            100%
                opacity: 1

.input-group
    display: flex
    justify-content: center
    width: 100%
    gap: $s-1

input
    font-family: $font-sans
    flex-grow: 1

.resume
    @include stack($s-4, stretch)
    width: 100%

.resume__header
    @include stack($s-2, stretch)
    text-align: left
    color: $text-white

.resume__name
    text-transform: lowercase
    font-family: $font-block
    font-size: 4rem

.resume__title
    font-size: 1.5rem
    font-weight: 700
    margin: 0

.resume__lead
    font-size: 1.1rem
    line-height: 1.6
    margin-bottom: $s-1
    max-width: 520px

.resume__actions
    display: flex
    flex-wrap: wrap
    gap: $s-1
    margin-bottom: $s-2

.resume__skills
    @include surface($material-base, $s-1, $s-2)
    font-family: $font-sans
    color: $text-base
    h2
        margin: 0 0 $s-1 0
        font-size: 1rem
        font-family: $font-sans
        text-transform: uppercase
        letter-spacing: 1px
    ul
        margin: 0
        padding-left: $s-3
        display: grid
        gap: $s-0-5

.resume__experience
    @include stack($s-2, stretch)
    text-align: left
    h2
        margin: 0
        color: $color-indigo-0
        text-transform: uppercase
        font-size: 1rem
        letter-spacing: 1px

.resume__experience-list
    @include stack($s-2, stretch)

.resume__experience-item
    @include surface($material-base, $s-1, $s-4)
    @include stack($s-1, stretch)
    h3
        margin: 0
        font-size: 1.2rem
        font-weight: 700
    h4
        margin: 0
        font-size: 1rem
        font-weight: 700
    ul
        margin: 0
        padding-left: $s-3
        display: grid
        gap: $s-0-5
        max-width: 80%
    li
        line-height: 1.5

.resume__experience-meta
    display: flex
    flex-wrap: wrap
    gap: $s-0-5
    font-size: 0.9rem
    font-weight: 500
    color: $text-down
    span:not(:last-child)::after
        content: 'â€¢'
        margin-left: $s-0-5
        margin-right: $s-0-5

.resume__experience-skills
    font-size: 0.9rem
    color: $text-down
    margin: 0

@media (max-width: 640px)
    .resume-wrapper
        padding: $s-2
    .resume__actions
        flex-direction: column
        align-items: stretch

@media print
    body
        background-color: #ffffff
        color: #000000
    .resume__header
        padding: 0
        gap: 0
        color: #000000
        font-size: 1.5rem
    .resume__name
        font-size: 2rem
        color: #000000
    .resume__title
        margin: 0
        font-size: 1.2rem
    .resume__experience
        h2
            text-transform: none
            color: #000000
    .resume__experience-item
        padding: 0
    .resume-wrapper
        max-width: none
        padding: $s-1
    .resume__actions
        display: none

.color-results
    display: flex
    align-self: stretch
    font-size: .9rem
    flex-direction: column
    font-family: $font-sans
    border-radius: $s-2

.color-cost
    font-size: 1rem
    margin-top: $s-1-5
    margin-bottom: $s-1
    font-family: $font-block

.link
    font-size: 1rem
    font-weight: 500
    margin: $s-2
    font-family: $font-sans
    a
        padding: 2px $s-0-5
        border-radius: $s-0-5

.avatar-container
    display: flex
    flex-direction: row
    gap: $s-1
    margin-top: $s-3
    .avatar
        width: $s-3
        border-radius: 6px
    .avatar-label
        font-family: $font-block
        font-weight: 100
        line-height: 1.25rem
        letter-spacing: 0.3px
        font-size: 1.25rem

.mind-meld-game
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    font-family: $font-sans
    font-weight: 500
    font-size: 1.5rem
    gap: $s-0-5
    padding-top: $s-1
    min-height: 480px
    color: $material-base
    @media (max-width: 800px)
        min-width: 300px
    @media (min-width: 800px)
        min-width: 480px
    .subtitle
        font-size: 1.25rem
        max-width: 520px
        margin: 0px
    h2
        margin: 0px
        color: $color-indigo-0
        font-weight: 400
        font-family: $font-block
        font-display: block
        text-shadow: $s-2 $s-2 0 $color-indigo-3,(-$s-2) $s-2 0 $color-indigo-3, (-$s-2) (-$s-2) 0 $color-indigo-3, $s-2 (-$s-2) 0 $color-indigo-3, $s-2 0px 0 $color-indigo-3, (-$s-2) 0px 0 $color-indigo-3, 0px $s-2 0 $color-indigo-3, 0px (-$s-2) 0 $color-indigo-3
        @media (max-width: 800px)
            font-size: 5rem
        @media (min-width: 800px)
            font-size: 7rem
    .game-area
        display: flex
        flex-direction: column
        align-items: center
        gap: $s-0-5
        padding: $s-2
        .timer
            font-size: $s-2-5
            background-color: $color-indigo-3
            border-radius: $s-1
            padding: $s-1-5
            #timerDisplay
                font-weight: 700
                font-family: $font-mono
                padding: $s-0-5 $s-1
                background-color: $color-indigo-2
                border-radius: $s-0-5
                &.time-running-out
                    color: $color-red-1

        .message-display
            @include stack($s-1, center)
            font-size: 1rem
            @include surface($padding: $s-2)
            .prev-words-container
                display: flex
                flex-direction: row
                align-items: center
                flex-wrap: wrap
                max-width: 520px
                gap: $s-1
                .prev-words-group
                    display: flex
                    flex-direction: row
                    align-items: center
                    gap: 0px
                    .prev-words
                        position: relative
                        margin: 0px
                        padding: $s-0-5 $s-1
                        &.prev-words-user
                            border: 1px solid $color-indigo-0
                            border-radius: $s-0-5 0px 0px $s-0-5
                            color: $color-indigo-0
                        &.prev-words-ai
                            border: 1px solid $color-indigo-1
                            border-left: none
                            border-radius: 0px $s-0-5 $s-0-5 0px
                            color: $color-indigo-0
                        &.prev-words-match
                            background-color: $color-green-1
                            color: $color-indigo-3
                            border-radius: $s-0-5
                        .new-badge
                            position: absolute
                            z-index: 100
                            top: -10px
                            right: -5px
                            font-size: 0.6rem
                            background-color: $color-indigo-0
                            color: $color-indigo-3
                            padding: 1px $s-0-5
                            border-radius: 3px
                            font-weight: bold
                            opacity: 0
                            transform: rotate(10deg) scale(0.6)
                            transition: opacity 0.4s ease, transform 0.5s ease
                            &.visible
                                opacity: 1
                                transform: rotate(10deg) scale(1)

        .game-controls
            @include stack($s-1, center)
            p
                margin: 0px
            .input-group
                @include surface()
            .prompt
                font-size: 1rem
                @include surface()
                gap: $s-0-5
                .guess-words
                    display: inline-flex
                    flex-direction: row
                    align-items: center
                    background-color: $color-indigo-1
                    color: $color-indigo-3
                    border-radius: $s-0-5
                    padding: $s-0-5 $s-1
                    font-weight: 700

    #new-words-count
        font-size: 0.8rem
        font-weight: 700
        background-color: $color-indigo-0
        color: $color-indigo-3
        padding: 2px $s-0-5
        margin-left: $s-0-5
        border-radius: $s-0-5

.error-message
    font-size: 0.8rem
    font-weight: 500
    color: $text-white
    @include surface($color-red-1, $s-0-5, 2px $s-0-5)

.success-message
    font-size: 1.25rem
    font-family: $font-sans
    color: $color-indigo-3
    @include surface($color-green-1, $s-1, $s-2)
    p
        margin: 0px

.wave-container
    display: grid
    @media (max-width: 800px)
        grid-template-columns: repeat(9, 1fr)
        grid-template-rows: repeat(16, 1fr)
    @media (min-width: 800px)
        grid-template-columns: repeat(16, 1fr)
        grid-template-rows: repeat(9, 1fr)
        align-items: center
        justify-items: center
        gap: 1px
        position: absolute
        top: 0
        left: 0
        width: 100vw
        height: 100vh
        z-index: -1
        overflow: hidden
        background-color: $color-indigo-3
    .wave-dot
        width: 90%
        height: 90%
        background-color: $color-indigo-3
        border-radius: 2%

.loading-words
    font-size: 0.75rem
    color: $color-indigo-0
    font-family: $font-sans
    opacity: 0.7
    margin-top: -5px

.loading
    animation: loading 2s infinite ease-in-out

@keyframes loading
    0%
        opacity: 1
    50%
        opacity: 0.5

@keyframes pulse
    0%
        transform: scaleX(1) scaleY(1)
    25%
        transform: scaleX(1.1) scaleY(1.3)
    100%
        transform: scaleX(1.1) scaleY(1.3)
        opacity: 0%

.form-container
    width: 100%
    background-color: rgba(255,255,255,0.05)
    border-radius: $s-1
    padding: $s-2 $s-4 $s-4
    border: 1px solid rgba(255,255,255,0.1)
    backdrop-filter: blur(10px)
    box-shadow: 0 2px 10px 0 rgba(0,0,0,0.3)

    label
        margin-top: $s-1
        font-size: 1.25rem
        font-family: $font-sans
        color: var(--wedding-flower, $text-white)
        font-weight: 700
        align-self: flex-start
        text-align: left

    .form-submit
        background-color: var(--wedding-flower, $color-indigo-1)
        color: var(--wedding-foreground, $text-white)
        font-family: $font-sans
        font-weight: 500
        font-size: 1rem
        padding: $s-1-5 $s-3
        border: none
        border-radius: $s-9
        cursor: pointer
        margin-top: $s-0-5
        align-self: flex-end
        transition: 150ms ease
        &:hover
            opacity: 0.8
        &:active
            opacity: 0.6
        &:focus-visible
            outline: 2px solid var(--wedding-flower, $color-indigo-1)
            outline-offset: 2px
        &:disabled
            background-color: rgba(255,255,255,0.5)
            color: var(--wedding-foreground, $text-hover)
            opacity: 0.5
            cursor: default
    .subtext
        font-size: 1rem
        font-family: $font-sans
        font-weight: 400
        color: var(--wedding-flower, $text-white)
        opacity: 0.8
        margin-bottom: $s-1
        text-align: left


@media screen and (max-width: 800px) 
    .form-container
        max-width: 100%
        width: auto
        padding: $s-2
    .text-input-form
        max-width: 100%
        width: auto !important
    .wedding-wrapper
        max-width: 100%
        width: auto
        padding: $s-1
        margin-bottom: auto
        margin-top: 0
        .wedding-header
            margin-bottom: $s-1-5
            .names
                font-size: 3.5rem
        .ai-message
            font-size: 1rem
            line-height: 1.4
        .flower-hero
            max-width: 360px
        .flower-small
            display: none
