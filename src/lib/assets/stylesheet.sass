@import url('https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Vina+Sans&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@700&display=swap')

$material-base: rgb(221, 213, 226)
$material-inset: #cfcece
$material-emphasis: #adcdfc

$text-white: #f6f6f6
$text-base: #171717
$text-hover: #2c2c2c
$text-down: #3d3d3d
$font-sans: 'Assistant', Arial, Helvetica, sans-serif
$font-block: 'Vina Sans', Arial, Helvetica, sans-serif
$font-mono: 'Anonymous Pro', Courier, monospace
$color-red-1: #ff4c4c
$color-green-1: #5fc95f
$color-indigo-0: rgb(196, 167, 214)
$color-indigo-1: rgb(130, 81, 161)
$color-indigo-2: rgb(70, 40, 90)
$color-indigo-3: #1b0e22

$s-0-25: 2px
$s-0-5: 4px
$s-1: 8px
$s-1-5: 12px
$s-2: 16px
$s-2-5: 20px
$s-3: 24px
$s-4: 32px
$s-5: 40px
$s-6: 48px
$s-7: 56px
$s-8: 64px
$s-9: 72px
$s-10: 80px

:root
    --color-red-1: #{$color-red-1}
    --color-green-1: #{$color-green-1}
    --color-indigo-0: #{$color-indigo-0}
    --color-indigo-1: #{$color-indigo-1}
    --color-indigo-2: #{$color-indigo-2}
    --color-indigo-3: #{$color-indigo-3}
    --material-base: #{$material-base}
    --material-inset: #{$material-inset}
    --text-base: #{$text-base}

%center-shell
    display: grid
    color: $text-white
    justify-items: center
    text-align: center
    margin: auto
    padding: $s-1
    max-width: 640px
    width: 100%
    font-family: $font-block
    gap: $s-0-5

@mixin stack($gap: 0, $align: stretch)
    display: flex
    flex-direction: column
    gap: $gap
    align-items: $align

@mixin surface($bg: $color-indigo-3, $radius: $s-1, $padding: $s-1-5)
    background-color: $bg
    border-radius: $radius
    padding: $padding

html
    background-color: $color-indigo-3
    &.transitions-enabled
        transition: background-color 2s ease

#root
    display: flex
    height: 100vh

.flex
    display: flex

.gap-1
    gap: $s-1
.gap-2
    gap: $s-2
.gap-3
    gap: $s-3
.gap-4
    gap: $s-4

.flex-col
    flex-direction: column

fieldset
    border: none
    padding: 0px
    margin: 0px

.center-wrapper
    @extend %center-shell

.mind-meld-wrapper
    @extend %center-shell
    margin: 0
    padding: 0
    width: 100vw
    height: 100vh
    max-width: none
    max-height: none
    @media (max-width: 800px)
        align-content: flex-start

.wedding-wrapper
    @extend %center-shell
    padding: $s-4

.resume-wrapper
    @extend %center-shell
    max-width: 800px
    width: 100%
    padding: $s-4
    gap: $s-4
    font-family: $font-sans
    color: $text-base
    font-weight: 500

.feed-wrapper
    @include stack($s-1)
    align-items: stretch
    width: 100%
    padding-bottom: $s-6

.button-wrapper
    display: flex
    justify-content: center
    width: 100%
    margin-top: $s-3
    gap: $s-1

.name
    font-size: 3rem
    color: $text-white

.guy
    width: 200px
    margin-top: $s-3
    margin-bottom: $s-2

.main-button
    background-color: $color-indigo-1
    border-radius: $s-0-5
    border: none
    font-family: $font-block
    font-weight: 400
    letter-spacing: 0.25px
    font-size: 1.5rem
    padding: $s-1-5 $s-2-5
    color: $color-indigo-3
    cursor: pointer
    transition: all 300ms ease
    position: relative
    &:hover
        background-color: $color-indigo-0
    &:active
        background-color: $color-indigo-2
    &:focus-visible
        outline: 2px solid $color-indigo-3
    &:disabled
        background-color: $color-indigo-0
        color: $text-hover
        opacity: 0.5
        cursor: default
    &.small
        font-size: 1rem
        font-family: $font-sans
        font-weight: 700
        letter-spacing: unset
        padding: $s-0-5 $s-1

a.main-button
    text-decoration: none
    display: inline-flex
    align-items: center
    justify-content: center

    .pulse
        position: absolute
        top: 0
        left: 0
        z-index: -99
        border-radius: $s-0-5
        background-color: #ffffff30
        animation: pulse 4s infinite
        width: 100%
        height: 100%

.subheader
    font-size: 1.3rem
    font-family: $font-sans
    color: $text-white

.content-block
    @include stack($s-1, flex-start)
    margin-top: $s-1
    font-family: $font-sans
    color: $text-base
    font-weight: 500
    @include surface($material-base, $s-1, $s-2)
    .generated-text
        line-height: 150%
        text-align: left
        font-size: 1rem
        font-family: $font-sans
    .loading-text
        animation: loading 2s infinite ease-in-out
        @keyframes loading
            0%
                opacity: 1
            50%
                opacity: 0.5
            100%
                opacity: 1

.input-group
    display: flex
    justify-content: center
    width: 100%
    gap: $s-1

input
    font-family: $font-sans
    flex-grow: 1

.resume
    @include stack($s-4, stretch)
    width: 100%

.resume__header
    @include stack($s-2, stretch)
    text-align: left
    color: $text-white

.resume__name
    text-transform: lowercase
    font-family: $font-block
    font-size: 4rem

.resume__title
    font-size: 1.5rem
    font-weight: 700
    margin: 0

.resume__lead
    font-size: 1.1rem
    line-height: 1.6
    margin-bottom: $s-1
    max-width: 520px

.resume__actions
    display: flex
    flex-wrap: wrap
    gap: $s-1
    margin-bottom: $s-2

.resume__skills
    @include surface($material-base, $s-1, $s-2)
    font-family: $font-sans
    color: $text-base
    h2
        margin: 0 0 $s-1 0
        font-size: 1rem
        font-family: $font-sans
        text-transform: uppercase
        letter-spacing: 1px
    ul
        margin: 0
        padding-left: $s-3
        display: grid
        gap: $s-0-5

.resume__experience
    @include stack($s-2, stretch)
    text-align: left
    h2
        margin: 0
        color: $color-indigo-0
        text-transform: uppercase
        font-size: 1rem
        letter-spacing: 1px

.resume__experience-list
    @include stack($s-2, stretch)

.resume__experience-item
    @include surface($material-base, $s-1, $s-4)
    @include stack($s-1, stretch)
    h3
        margin: 0
        font-size: 1.2rem
        font-weight: 700
    h4
        margin: 0
        font-size: 1rem
        font-weight: 700
    ul
        margin: 0
        padding-left: $s-3
        display: grid
        gap: $s-0-5
        max-width: 80%
    li
        line-height: 1.5

.resume__experience-meta
    display: flex
    flex-wrap: wrap
    gap: $s-0-5
    font-size: 0.9rem
    font-weight: 500
    color: $text-down
    span:not(:last-child)::after
        content: 'â€¢'
        margin-left: $s-0-5
        margin-right: $s-0-5

.resume__experience-skills
    font-size: 0.9rem
    color: $text-down
    margin: 0

@media (max-width: 640px)
    .resume-wrapper
        padding: $s-2
    .resume__actions
        flex-direction: column
        align-items: stretch

@media print
    body
        background-color: #ffffff
        color: #000000
    .resume__header
        padding: 0
        gap: 0
        color: #000000
        font-size: 1.5rem
    .resume__name
        font-size: 2rem
        color: #000000
    .resume__title
        margin: 0
        font-size: 1.2rem
    .resume__experience
        h2
            text-transform: none
            color: #000000
    .resume__experience-item
        padding: 0
    .resume-wrapper
        max-width: none
        padding: $s-1
    .resume__actions
        display: none

.color-results
    display: flex
    align-self: stretch
    font-size: .9rem
    flex-direction: column
    font-family: $font-sans
    border-radius: $s-2

.color-cost
    font-size: 1rem
    margin-top: $s-1-5
    margin-bottom: $s-1
    font-family: $font-block

.link
    font-size: 1rem
    font-weight: 500
    margin: $s-2
    font-family: $font-sans
    a
        padding: 2px $s-0-5
        border-radius: $s-0-5

.avatar-container
    display: flex
    flex-direction: row
    gap: $s-1
    margin-top: $s-3
    .avatar
        width: $s-3
        border-radius: 6px
    .avatar-label
        font-family: $font-block
        font-weight: 100
        line-height: 1.25rem
        letter-spacing: 0.3px
        font-size: 1.25rem

.mind-meld-game
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    font-family: $font-sans
    font-weight: 500
    font-size: 1.5rem
    gap: $s-0-5
    padding-top: $s-1
    min-height: 480px
    color: $material-base
    @media (max-width: 800px)
        min-width: 300px
    @media (min-width: 800px)
        min-width: 480px
    .subtitle
        font-size: 1.25rem
        max-width: 520px
        margin: 0px
    h2
        margin: 0px
        color: $color-indigo-0
        font-weight: 400
        font-family: $font-block
        font-display: block
        text-shadow: $s-2 $s-2 0 $color-indigo-3,(-$s-2) $s-2 0 $color-indigo-3, (-$s-2) (-$s-2) 0 $color-indigo-3, $s-2 (-$s-2) 0 $color-indigo-3, $s-2 0px 0 $color-indigo-3, (-$s-2) 0px 0 $color-indigo-3, 0px $s-2 0 $color-indigo-3, 0px (-$s-2) 0 $color-indigo-3
        @media (max-width: 800px)
            font-size: 5rem
        @media (min-width: 800px)
            font-size: 7rem
    .game-area
        display: flex
        flex-direction: column
        align-items: center
        gap: $s-0-5
        padding: $s-2
        .timer
            font-size: $s-2-5
            background-color: $color-indigo-3
            border-radius: $s-1
            padding: $s-1-5
            #timerDisplay
                font-weight: 700
                font-family: $font-mono
                padding: $s-0-5 $s-1
                background-color: $color-indigo-2
                border-radius: $s-0-5
                &.time-running-out
                    color: $color-red-1

        .message-display
            @include stack($s-1, center)
            font-size: 1rem
            @include surface($padding: $s-2)
            .prev-words-container
                display: flex
                flex-direction: row
                align-items: center
                flex-wrap: wrap
                max-width: 520px
                gap: $s-1
                .prev-words-group
                    display: flex
                    flex-direction: row
                    align-items: center
                    gap: 0px
                    .prev-words
                        position: relative
                        margin: 0px
                        padding: $s-0-5 $s-1
                        &.prev-words-user
                            border: 1px solid $color-indigo-0
                            border-radius: $s-0-5 0px 0px $s-0-5
                            color: $color-indigo-0
                        &.prev-words-ai
                            border: 1px solid $color-indigo-1
                            border-left: none
                            border-radius: 0px $s-0-5 $s-0-5 0px
                            color: $color-indigo-0
                        &.prev-words-match
                            background-color: $color-green-1
                            color: $color-indigo-3
                            border-radius: $s-0-5
                        .new-badge
                            position: absolute
                            z-index: 100
                            top: -10px
                            right: -5px
                            font-size: 0.6rem
                            background-color: $color-indigo-0
                            color: $color-indigo-3
                            padding: 1px $s-0-5
                            border-radius: 3px
                            font-weight: bold
                            opacity: 0
                            transform: rotate(10deg) scale(0.6)
                            transition: opacity 0.4s ease, transform 0.5s ease
                            &.visible
                                opacity: 1
                                transform: rotate(10deg) scale(1)

        .game-controls
            @include stack($s-1, center)
            p
                margin: 0px
            .input-group
                @include surface()
            .prompt
                font-size: 1rem
                @include surface()
                gap: $s-0-5
                .guess-words
                    display: inline-flex
                    flex-direction: row
                    align-items: center
                    background-color: $color-indigo-1
                    color: $color-indigo-3
                    border-radius: $s-0-5
                    padding: $s-0-5 $s-1
                    font-weight: 700

    #new-words-count
        font-size: 0.8rem
        font-weight: 700
        background-color: $color-indigo-0
        color: $color-indigo-3
        padding: 2px $s-0-5
        margin-left: $s-0-5
        border-radius: $s-0-5

.error-message
    font-size: 0.8rem
    font-weight: 500
    color: $text-white
    @include surface($color-red-1, $s-0-5, 2px $s-0-5)

.success-message
    font-size: 1.25rem
    font-family: $font-sans
    color: $color-indigo-3
    @include surface($color-green-1, $s-1, $s-2)
    p
        margin: 0px

.wave-container
    display: grid
    @media (max-width: 800px)
        grid-template-columns: repeat(9, 1fr)
        grid-template-rows: repeat(16, 1fr)
    @media (min-width: 800px)
        grid-template-columns: repeat(16, 1fr)
        grid-template-rows: repeat(9, 1fr)
        align-items: center
        justify-items: center
        gap: 1px
        position: absolute
        top: 0
        left: 0
        width: 100vw
        height: 100vh
        z-index: -1
        overflow: hidden
        background-color: $color-indigo-3
    .wave-dot
        width: 90%
        height: 90%
        background-color: $color-indigo-3
        border-radius: 2%

.loading-words
    font-size: 0.75rem
    color: $color-indigo-0
    font-family: $font-sans
    opacity: 0.7
    margin-top: -5px

.loading
    animation: loading 2s infinite ease-in-out

@keyframes loading
    0%
        opacity: 1
    50%
        opacity: 0.5

@keyframes pulse
    0%
        transform: scaleX(1) scaleY(1)
    25%
        transform: scaleX(1.1) scaleY(1.3)
    100%
        transform: scaleX(1.1) scaleY(1.3)
        opacity: 0%
