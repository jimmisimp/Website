@import url('https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&display=swap')
@import url('https://fonts.googleapis.com/css2?family=Vina+Sans&display=block')
@import url('https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@700&display=swap')

// ===== VARIABLES =====
// Colors
$material-base: rgb(247, 238, 253)
$material-inset: #cfcece
$material-emphasis: #adcdfc
$text-white: #f6f6f6
$text-base: #171717
$text-hover: #2c2c2c
$text-down: #3d3d3d
$color-red-1: #ff4c4c
$color-green-1: #5fc95f
$color-indigo-0: rgb(196, 167, 214)
$color-indigo-1: rgb(96, 70, 112)
$color-indigo-2: rgb(55, 33, 68)
$color-indigo-3: #1b0e22

// Typography
$font-sans: 'Assistant', Arial, Helvetica, sans-serif
$font-block: 'Vina Sans', Arial, Helvetica, sans-serif
$font-mono: 'Anonymous Pro', Courier, monospace

// Spacing
$spacing-xs: 4px
$spacing-sm: 8px
$spacing-md: 12px
$spacing-lg: 16px
$spacing-xl: 24px
$spacing-xxl: 32px

// Border radius
$radius-sm: 4px
$radius-md: 8px
$radius-lg: 16px

// Breakpoints
$mobile-max: 800px

// ===== MIXINS =====
@mixin flex-center
    display: flex
    align-items: center
    justify-content: center

@mixin flex-column
    display: flex
    flex-direction: column

@mixin flex-column-center
    @include flex-column
    align-items: center

@mixin mobile
    @media (max-width: $mobile-max)
        @content

@mixin desktop
    @media (min-width: $mobile-max + 1px)
        @content

@mixin game-panel
    background-color: $color-indigo-3
    border-radius: $radius-md
    padding: $spacing-md

@mixin button-base
    border: none
    border-radius: $radius-sm
    cursor: pointer
    font-family: $font-block
    transition: all 300ms ease

@mixin outline-focus($color: $color-indigo-3)
    &:focus-visible
        outline: 2px solid $color

@mixin text-shadow-outline($color: $color-indigo-3)
    text-shadow: 16px 16px 0 $color, -16px 16px 0 $color, -16px -16px 0 $color, 16px -16px 0 $color, 16px 0px 0 $color, -16px 0px 0 $color, 0px 16px 0 $color, 0px -16px 0 $color

// ===== CSS CUSTOM PROPERTIES =====
:root
    --color-red-1: #{$color-red-1}
    --color-green-1: #{$color-green-1}
    --color-indigo-0: #{$color-indigo-0}
    --color-indigo-1: #{$color-indigo-1}
    --color-indigo-2: #{$color-indigo-2}
    --color-indigo-3: #{$color-indigo-3}
    --material-base: #{$material-base}
    --material-inset: #{$material-inset}
    --text-base: #{$text-base}

// ===== BASE STYLES =====
html
    background-color: $color-indigo-3

#root
    display: flex
    height: 100vh

fieldset
    border: none
    padding: 0
    margin: 0

// ===== LAYOUT COMPONENTS =====
.center-wrapper
    display: grid
    color: $text-white
    justify-items: center
    text-align: center
    margin: auto
    padding: $spacing-sm
    max-width: 640px
    width: 100%
    font-family: $font-block
    gap: $spacing-xs
    
    &.mind-meld-wrapper
        margin: 0
        padding: 0
        width: 100vw
        height: 100vh
        max-width: none
        max-height: none
        @include mobile
            align-content: flex-start

.feed-wrapper
    @include flex-column
    align-items: stretch
    width: 100%
    padding-bottom: 48px
    gap: $spacing-sm

.button-wrapper
    @include flex-center
    width: 100%
    margin-top: $spacing-xl
    gap: $spacing-sm

// ===== TYPOGRAPHY =====
.name
    font-size: 3rem
    color: $text-white

.subheader
    font-size: 1.3rem
    font-family: $font-sans
    color: $text-white

// ===== BUTTONS =====
.main-button
    @include button-base
    @include outline-focus
    background-color: $color-indigo-1
    font-weight: 400
    letter-spacing: 0.25px
    font-size: 1.5rem
    padding: $spacing-md 20px
    color: $color-indigo-3
    position: relative
    
    &:hover
        background-color: $color-indigo-0
    &:active
        background-color: $color-indigo-2
    &:disabled
        background-color: $color-indigo-0
        color: $text-white
        cursor: default
    
    .pulse
        position: absolute
        top: 0
        left: 0
        z-index: -99
        border-radius: $radius-sm
        background-color: #ffffff30
        animation: pulse 4s infinite
        width: 100%
        height: 100%

// ===== FORM ELEMENTS =====
.input-group
    @include flex-center
    width: 100%
    gap: $spacing-sm

input
    font-family: $font-sans
    flex-grow: 1
    font-size: 1rem
    padding: $spacing-sm
    border: none
    border-radius: $radius-sm
    outline: 2px solid $color-indigo-0
    
    &:disabled
        color: $text-white
        outline: none
        background-color: $color-indigo-0
    @include outline-focus($color-indigo-1)
    &.error
        outline: 2px solid $color-red-1
        color: $color-red-1

// ===== CONTENT BLOCKS =====
.content-block
    @include flex-column
    margin-top: $spacing-sm
    align-items: flex-start
    font-family: $font-sans
    color: $text-base
    font-weight: 500
    gap: $spacing-sm
    padding: $spacing-lg
    background-color: $material-base
    border-radius: $radius-md
    
    .generated-text
        line-height: 150%
        text-align: left
        font-size: 1rem
        font-family: $font-sans

// ===== UTILITY COMPONENTS =====
.guy
    width: 200px
    margin: $spacing-xxl $spacing-lg

.color-results
    @include flex-column
    align-self: stretch
    font-size: 0.9rem
    font-family: $font-sans
    border-radius: $radius-lg

.color-cost
    font-size: 1rem
    margin: $spacing-md $spacing-sm
    font-family: $font-block

.link
    font-size: 1rem
    font-weight: 500
    margin: $spacing-lg
    font-family: $font-sans
    
    a
        padding: 2px $spacing-xs
        border-radius: $radius-sm

.avatar-container
    display: flex
    flex-direction: row
    gap: $spacing-sm
    margin-top: $spacing-xl
    
    .avatar
        width: 24px
        border-radius: 6px
    
    .avatar-label
        font-family: $font-block
        font-weight: 100
        line-height: 1.25rem
        letter-spacing: 0.3px
        font-size: 1.25rem

// ===== GAME COMPONENTS =====
.mind-meld-game
    @include flex-column-center
    justify-content: center
    font-family: $font-sans
    font-weight: 500
    font-size: 1.5rem
    gap: $spacing-xs
    padding-top: $spacing-sm
    min-height: 480px
    color: $material-base
    
    @include mobile
        min-width: 300px
    @include desktop
        min-width: 480px
    
    .subtitle
        font-size: 1.25rem
        max-width: 520px
        margin: 0
    
    h2
        margin: 0
        color: $color-indigo-0
        font-weight: 400
        font-family: $font-block
        font-display: block
        @include text-shadow-outline
        
        @include mobile
            font-size: 5rem
        @include desktop
            font-size: 7rem
    
    .game-area
        @include flex-column-center
        gap: $spacing-xs
        padding: $spacing-lg
        
        .timer
            @include game-panel
            font-size: 20px
            
            #timerDisplay
                font-weight: 700
                font-family: $font-mono
                padding: $spacing-xs $spacing-sm
                background-color: $color-indigo-2
                border-radius: $radius-sm
                
                &.time-running-out
                    color: $color-red-1
        
        .message-display
            @include flex-column-center
            @include game-panel
            gap: $spacing-sm
            font-size: 1rem
            
            .prev-words-container
                display: flex
                flex-direction: row
                align-items: center
                flex-wrap: wrap
                max-width: 520px
                gap: $spacing-sm
                
                .prev-words-group
                    display: flex
                    flex-direction: row
                    align-items: center
                    gap: 0
                    
                    .prev-words
                        position: relative
                        margin: 0
                        padding: $spacing-xs $spacing-sm
                        
                        &.prev-words-user
                            border: 1px solid $color-indigo-0
                            border-radius: $radius-sm 0 0 $radius-sm
                            color: $color-indigo-0
                        
                        &.prev-words-ai
                            border: 1px solid $color-indigo-1
                            border-left: none
                            border-radius: 0 $radius-sm $radius-sm 0
                            color: $color-indigo-0
                        
                        &.prev-words-match
                            background-color: $color-green-1
                            color: $color-indigo-3
                            border-radius: $radius-sm
                        
                        .new-badge
                            position: absolute
                            z-index: 100
                            top: -10px
                            right: -5px
                            font-size: 0.6rem
                            background-color: $color-indigo-0
                            color: $color-indigo-3
                            padding: 1px $spacing-xs
                            border-radius: 3px
                            font-weight: bold
                            opacity: 0
                            transform: rotate(10deg) scale(0.6)
                            transition: opacity 0.4s ease, transform 0.5s ease
                            
                            &.visible
                                opacity: 1
                                transform: rotate(10deg) scale(1)
        
        .game-controls
            @include flex-column-center
            gap: $spacing-sm
            
            p
                margin: 0
            
            .input-group
                @include game-panel
            
            .prompt
                @include game-panel
                font-size: 1rem
                gap: $spacing-xs
                
                .guess-words
                    display: inline-flex
                    flex-direction: row
                    align-items: center
                    background-color: $color-indigo-1
                    color: $color-indigo-3
                    border-radius: $radius-sm
                    padding: $spacing-xs $spacing-sm
                    font-weight: 700
    
    #new-words-count
        font-size: 0.8rem
        font-weight: 700
        background-color: $color-indigo-0
        color: $color-indigo-3
        padding: 2px $spacing-xs
        margin-left: $spacing-xs
        border-radius: $radius-sm

// ===== BACKGROUND EFFECTS =====
.wave-container
    display: grid
    position: absolute
    top: 0
    left: 0
    width: 100vw
    height: 100vh
    z-index: -1
    overflow: hidden
    background-color: $color-indigo-3
    
    @include mobile
        grid-template-columns: repeat(9, 1fr)
        grid-template-rows: repeat(16, 1fr)
    
    @include desktop
        grid-template-columns: repeat(16, 1fr)
        grid-template-rows: repeat(9, 1fr)
        align-items: center
        justify-items: center
        gap: 1px
    
    .wave-dot
        width: 90%
        height: 90%
        background-color: $color-indigo-3
        border-radius: 2%

// ===== LOADING STATES =====
.loading-words
    font-size: 0.75rem
    color: $color-indigo-0
    font-family: $font-sans
    opacity: 0.7
    margin-top: -5px

.loading
    animation: loading 2s infinite ease-in-out

// ===== ANIMATIONS =====
@keyframes loading
    0%
        opacity: 1
    50%
        opacity: 0.5

@keyframes pulse
    0%
        transform: scaleX(1) scaleY(1)
    25%
        transform: scaleX(1.1) scaleY(1.3)
    100%
        transform: scaleX(1.1) scaleY(1.3)
        opacity: 0%
